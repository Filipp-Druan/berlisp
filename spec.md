# Язык Берлисп.
Берлисп - это очень простой Лисп. Он по сути своей похож на `Лямбда-исчисление с let`.
Что в нём есть?
В первую очередь, списки, символы, функции. Функции как в Scheme. С лексическими переменными. Наверное, и с замыканиями. Как я понял, окружение должно прилагаться к каждой функции.

Каждый вызов создаёт новое окружение. Если после выполнения задачи оно перестаёт быть нужным, сборщик мусора его удаляет.

У каждой функции есть целый список окружений. Ближе всего к ней то окружение, в котором она создана. Переменные мы ищем в окружениях, начиная с ближайшего.

За удаление всего лишнего отвечает сборщик мусора. Проще всего сделать его через счётчик ссылок.

Надо подумать, как будут выглядеть объекты при их представлении в памяти.

У нас есть следующие виды объектов:
функции, символы, окружения, Конс-ячейки.

Все эти вещи можно обернуть в GCObj. GCObj хранит в себе конкретно экземпляр того объекта, который мы отслеживаем в тех случаях, когда нам заранее известен размер. Если размер заранее не известен, то придётся, увы, держать указатель.

Чуточку сложнее дело обстоит с окружениями. Окружение - это хэш-таблица, в которой мы храним символ, и ссылку на GCObj. Позже мы можем добавить пакеты символов, чтобы символы с одним и тем же именем превращались в один и тот же символ при чтении. Думаю, что будет не плохе сделать это сразу. Таким образом мы сможем хранить в окружении только ссылку на символ, а не его имя. Это может хорошо отразиться на производительности.
